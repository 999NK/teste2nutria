âš ï¸ 1. WebSocket invÃ¡lido
pgsql
Copiar
Editar
Uncaught (in promise) SyntaxError: Failed to construct 'WebSocket': The URL 'wss://localhost:undefined/?token=7g9SaLQnr1Rk' is invalid.
ğŸ‘‰ O que significa:
VocÃª estÃ¡ tentando abrir uma conexÃ£o WebSocket, mas a porta nÃ£o foi definida (localhost:undefined).

ğŸ¯ Causa provÃ¡vel:
A URL do WebSocket foi construÃ­da com uma variÃ¡vel de ambiente (ou config) que nÃ£o foi passada corretamente.

âœ… SoluÃ§Ã£o:
Verifica onde vocÃª monta a URL do WebSocket:

ts
Copiar
Editar
const socket = new WebSocket(`wss://localhost:${port}/?token=${token}`);
Se port estÃ¡ undefined, precisa ajustar o .env, props ou default:

ts
Copiar
Editar
const port = process.env.WS_PORT || 5001;
âš ï¸ 2. Banner de instalaÃ§Ã£o PWA nÃ£o exibido
pgsql
Copiar
Editar
Banner not shown: beforeinstallpromptevent.preventDefault() called.
The page must call beforeinstallpromptevent.prompt() to show the banner.
ğŸ‘‰ O que significa:
O navegador detectou que seu app Ã© "instalÃ¡vel", mas vocÃª usou preventDefault() no evento beforeinstallprompt e nunca chamou prompt().

âœ… SoluÃ§Ã£o:
Se quiser que o banner apareÃ§a, use algo assim:

ts
Copiar
Editar
window.addEventListener("beforeinstallprompt", (e) => {
  e.preventDefault();
  // armazena o evento para usar depois
  window.deferredPrompt = e;
  e.prompt(); // isso mostra o banner
});
âœ… 3. React DevTools aviso
css
Copiar
Editar
Download the React DevTools for a better development experience
ğŸ‘‰ O que significa:
SÃ³ um aviso do React â€” se vocÃª ainda nÃ£o tem o DevTools instalado no navegador, ele te recomenda.

âœ… SoluÃ§Ã£o:
NÃ£o precisa se preocupar. SÃ³ instale o React DevTools na Chrome Web Store se quiser.

âœ… 4. Query de parÃ¢metros logada corretamente
bash
Copiar
Editar
Query parameters: Object
Added param: date=2025-06-17
Final URL: /api/meals?date=2025-06-17
âœ… Isso Ã© sÃ³ um console.log() â€” tÃ¡ funcionando corretamente, mostrando os parÃ¢metros passados na query para suas rotas /api/meals e /api/nutrition/daily.

âš ï¸ 5. Erro 400 nas requisiÃ§Ãµes de busca
pgsql
Copiar
Editar
api/foods/search:1 Failed to load resource: the server responded with a status of 400 (Bad Request)
ğŸ‘‰ O que significa:
VocÃª estÃ¡ fazendo chamadas para /api/foods/search, mas com uma query menor que 3 caracteres.

âœ… SoluÃ§Ã£o:
Antes de chamar o endpoint, certifique-se de que a busca tem no mÃ­nimo 3 letras:

ts
Copiar
Editar
if (search.length < 3) return;
Isso evita que esse erro fique pipocando no console.

âœ… ConclusÃ£o geral
Erro	O que fazer
WebSocket undefined	Corrigir a construÃ§Ã£o da URL (verificar porta/token)
Banner PWA	Chamar .prompt() apÃ³s preventDefault()
React DevTools	Aviso informativo, nÃ£o precisa agir
Query params	Tudo OK
API /foods/search 400	Adicionar validaÃ§Ã£o de mÃ­nimo 3 caracteres no front